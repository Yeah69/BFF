<UserControl x:Class="BFF.MVVM.Views.NewAccountView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:lex="http://wpflocalizeextension.codeplex.com"
             xmlns:mvvm="clr-namespace:BFF.MVVM"
             xmlns:viewModels="clr-namespace:BFF.MVVM.ViewModels"
             mc:Ignorable="d" 
             d:DataContext="{d:DesignInstance viewModels:NewAccountViewModel}"
             d:DesignHeight="300" d:DesignWidth="300">
    <StackPanel>
        <Label Content="{lex:LocText Account_Name, Suffix=:}" />
        <TextBox Text="{Binding Mode=TwoWay, Path=Name.Value, UpdateSourceTrigger=PropertyChanged}" />
        <Label Content="{lex:LocText Account_StartingBalance, Suffix=:}" />
        <TextBox Name="NewAccountStartingBalance"
                 MaxLength="30">
            <TextBox.Text>
                <Binding Converter="{x:Static mvvm:Converters.SumToString}"
                         Mode="TwoWay"
                         Path="StartingBalance.Value"
                         UpdateSourceTrigger="LostFocus">
                    <Binding.ValidationRules>
                        <x:Static Member="mvvm:Rules.Currency" />
                        <x:Static Member="mvvm:Rules.CurrencyLongRange" />
                    </Binding.ValidationRules>
                </Binding>
            </TextBox.Text>
        </TextBox>
        <Label Content="{lex:LocText Account_StartingDate, Suffix=:}" />
        <DatePicker x:Name="NewAccountDatePicker"
                    SelectedDate="{Binding StartingDate.Value}"
                    SelectedDateFormat="{Binding IsDateFormatLong, Converter={x:Static mvvm:Converters.BooleanToDatePickerFormat}}" />
        <Button Margin="0,5,0,0"
                HorizontalAlignment="Right"
                Command="{Binding AddCommand}"
                Content="{lex:Loc AccountTabsView_NewAccount_Create}" />
    </StackPanel>
</UserControl>
